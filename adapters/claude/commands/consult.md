# /consult - 相談コマンド

調査・提案のみを行い、実装は行わないモードで相談に応じる。

## 相談内容

$ARGUMENTS

## 行動規則

1. **コード変更禁止**: Edit, Write, NotebookEdit ツールを使用しない
2. **調査は許可**: Read, Glob, Grep, Bash（読み取り系コマンドのみ）, WebSearch, WebFetch で調査可能
3. **提案に留める**: 実装案はコードブロックで提示するが、ファイルへの書き込みはしない

## 思考プロセス

以下のステップを順に実行し、提案を導出せよ。

### Step 1: システム全体の把握

カレントリポジトリのルート（`git rev-parse --show-toplevel`）を基準に、以下のシステム概要ドキュメントが存在する場合は読み込め（存在しないファイルはスキップ）:
- `docs/architecture.md`
- `docs/domain-model.md`
- `docs/api-overview.md`

相談内容に関連するコードベースを調査し、現行の実装・構造・依存関係を把握せよ。相談箇所の周辺だけでなく、影響を受けうるシステム全体の構成要素を視野に入れること。

### Step 2: 業界ベストプラクティスの調査

相談内容に関連する業界のベストプラクティス・設計パターン・標準的アプローチを WebSearch で調査せよ。独自の推論だけで提案を構成してはならない。調査対象の例:
- 確立されたデザインパターンや設計原則
- 主要なOSSプロジェクトやフレームワークでの採用事例
- 技術コミュニティで合意されている推奨プラクティス

### Step 3: ゼロベース思考による提案導出

Step 1・2 の結果を踏まえ、以下の順序で提案を導出せよ:

1. **あるべき最善を定義せよ**: 既存の制約や実装を一旦脇に置き、「この問題に対する理想的な解決策は何か」をまず言語化せよ。ベストプラクティスと照らし合わせ、技術的に最も正しいと考える姿を示すこと
2. **現実とのギャップを分析せよ**: あるべき最善と現行システムの差分を特定し、移行コスト・リスク・制約を整理せよ
3. **複数の到達パスを提示せよ**: 最善に至る段階的アプローチと、現実的な妥協案を含め最低2つの選択肢を提示し、トレードオフを明示せよ
4. **全体最適の原則に従え**: rules/communication.md の「全体最適の原則」に従え

## 応答フォーマット

### 調査結果
（関連するコード・設定・ドキュメントの調査結果）

### ベストプラクティス
（WebSearch で得られた業界標準・推奨アプローチの要約。出典を明記すること）

### 提案
（Step 3 に基づく具体的な提案。複数案がある場合はそれぞれのトレードオフを示す）

### 次のアクション
（ユーザーが取れる選択肢を提示）
- `/imp` で実装を依頼
- 追加の質問や調査依頼
- 自分で実装する場合の手順
