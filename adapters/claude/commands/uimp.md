# /uimp - 実装修正コマンド

レビュー指摘に基づき、実装コードを修正せよ。

## 対象slug

$ARGUMENTS

## 実行手順

### Step 1: slug の取得

上記「対象slug」が空の場合は、「修正対象のslugを入力してください。」とだけ表示し、ユーザの次のメッセージを待て。

### Step 2: ブランチ確認

現在のブランチが `feature/<slug>` であることを確認せよ。異なる場合は `feature/<slug>` にチェックアウトせよ。

### Step 3: RFC・レビュー結果・システム概要ドキュメントの読み込み

カレントリポジトリのルート（`git rev-parse --show-toplevel`）を基準に、以下を**並列に（単一メッセージ内で同時に）**読み込め:
- `docs/rfcs/<slug>/rfc.md`（RFC本文。設計意図の参照用）
- `docs/rfcs/<slug>/review-imp-*.md`（全実装レビュー結果）
- `docs/architecture.md`（存在する場合のみ）
- `docs/domain-model.md`（存在する場合のみ）
- `docs/api-overview.md`（存在する場合のみ）

レビューファイルが存在しない場合はエラーを報告して終了せよ。

### Step 4: コード修正

各レビューの指摘事項（P0 / P1）を分析し、コードを修正する。
- P0（Blocker）は必ず対応すること。
- P1（Nit）は妥当であれば反映すること。
- RFC の設計意図から逸脱しないよう注意すること。

### Step 5: ビルド・テスト実行

プロジェクトのビルドコマンドおよびテストコマンドを実行し、全て通過することを確認せよ。失敗がある場合は修正してから次のステップに進むこと。

### Step 6: コミット & プッシュ

1. 変更ファイルをステージングする。
2. コミットメッセージは変更内容に応じた適切なプレフィックス（`fix:`, `refactor:`, `test:` 等）を付けること。
3. `feature/<slug>` ブランチをリモートにプッシュする。
4. 「コードを修正しました。`/rimp <slug>` で再レビューを実行してください。」とユーザに報告せよ。
