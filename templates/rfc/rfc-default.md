# [RFC] {提案タイトル}

| 項目 | 内容 |
| :--- | :--- |
| **作成者 (Author)** | {User / AI Name} |
| **ステータス** | Draft (起草中) / Review (レビュー中) / Accepted (承認済) / Rejected (却下) |
| **作成日** | YYYY-MM-DD |
| **タグ** | {コンポーネント名}, {優先度} |
| **関連リンク** | {関連Issue・既存RFC・参考PRのURLを列挙} |

## 1. 要約 (Summary)

- {提案の全体像を3〜5文で簡潔に記述する}

## 2. 背景・動機 (Motivation)

- {なぜこの変更が必要か、現状の課題は何か}
- {ユーザーやシステムへの影響、放置した場合のリスク}

## 3. 目的とスコープ (Goals & Non-Goals)

### 目的 (Goals)

| # | Goal | 達成確認方法 (Verification) |
|---|------|-----------------------------|
| G1 | {達成すべき具体的な目標} | {実装完了後に達成を検証する具体的手順。「記載があること」のような実装と同義の確認は不可。コマンド実行結果、テスト通過、動作確認手順など、実装とは独立した検証手段を記述すること。/imp の Step 7 で全て実施される。副作用を伴う操作は人間の承認を得て実行してよいが、実施せず人間に委ねることは不可} |
| G2 | ... | ... |

### やらないこと (Non-Goals)

- {あえてやらないこと、スコープ外のこと}
- {将来の課題として先送りするもの}

## 4. 外部仕様 (External Specification)

<!-- ユーザ・運用者から見た振る舞いの変更を中心に記述せよ。 -->
<!-- 内部コンポーネント構成・型定義・DDL等の実装詳細はセクション10（詳細設計）に記載すること。 -->

### 変更の全体像

- {何を、どう変えるのかを端的に記述}

### 外部仕様

<!-- 以下は記述対象の例。該当するものだけ記述し、該当しないものは削除すること。 -->

#### CLI / API インターフェース
- {コマンド、引数、オプション、入出力形式}
- {ユーザから見た操作フローと期待される応答}

#### データフロー
- {入力から出力まで、ユーザが認知できる粒度でのデータの流れ}

#### 主要な振る舞い
- {エラー時の挙動、リトライ、冪等性など、ユーザに影響する設計判断}

#### 削除・廃止される機能
- {破壊的変更がある場合、何がなくなるか}

## 5. テスト戦略 (Test Strategy)

### 実施するテスト

<!-- 以下に記載したテストは全件実施する。実施しないテストは記載しないこと。 -->

| テスト対象 | テスト種別 | 検証観点 |
|---|---|---|
| {コンポーネント名} | ユニット / 統合 / E2E | {何を検証するか} |

### 境界値・エッジケース

- {検証が必要な境界値・異常系の列挙}

## 6. 非機能要件 (Non-Functional Requirements)

<!-- 該当するサブセクションのみ記載せよ。該当しないものは削除すること。 -->
<!-- 各項目は1〜3行で簡潔に。詳細な設計はセクション10（詳細設計）に記載する。 -->

### 6.1 セキュリティとプライバシー

- {認証・認可、データ保護、OWASP Top 10 への対処}

### 6.2 スケーラビリティとパフォーマンス

- {負荷見積もり、ボトルネック、キャッシュ戦略}

### 6.3 可観測性 (Observability)

- {ログ、メトリクス、トレーシングの方針}

### 6.4 マイグレーションと後方互換性

- {既存データの移行手順、破壊的変更の有無}
- {ロールバック手順、後方互換性の担保方法}

## 7. 代替案の検討 (Alternatives Considered)

<!-- 最低2案を比較し、選定理由を明示する。各案の説明は1行に収めること。 -->

| 案 | 概要 | 採否 | 決定的理由 |
|---|---|---|---|
| A: {名称} | {アプローチの1行要約} | **採用** | {選んだ決め手} |
| B: {名称} | {アプローチの1行要約} | 却下 | {却下の決め手} |

## 8. 実装・リリース計画 (Implementation Plan)

<!-- Phase/フェーズによる作業分割を禁止する。作業項目をフラットな番号付きリストで記述せよ。 -->
<!-- ここに記載した全作業項目は、単一のPRで完遂すること。部分実装での完了報告は不可。 -->

### 作業項目

<!-- 1作業 = 1コミット程度の粒度。統合テストの実行を含めること。 -->

| # | 種別 | 作業内容 | 依存 |
|---|------|---------|------|
| 1 | コード | {ファイルの作成・変更・削除} | - |
| 2 | 適用 | {DBマイグレーション実行、crontab登録等} | #1 |

<!-- 種別の定義: -->
<!-- - コード: ソースコード・設定ファイルの作成・変更・削除 -->
<!-- - 適用: 状態変更の実行（DBマイグレーション、cron登録、パッケージインストール等）。作成だけでなく実行まで含む -->

### 完了条件

- 上記の全作業項目が完了していること
- Goals の Verification が全て OK であること
- テスト戦略に記載した全テストが通過していること

### ロールバック基準と手順

- {ロールバック基準}
- {ロールバック手順}

## 9. 前提条件・依存関係 (Prerequisites & Dependencies)

- {前提となる環境条件やインフラ要件}
- {依存する外部サービス・チーム・ライブラリ}

## 10. 詳細設計 (Detailed Design)

<!-- 該当しないサブセクションは削除してよい -->

### 10.1 システムアーキテクチャ

- {コンポーネント構成、データフロー}

### 10.2 データモデル / スキーマ

- {テーブル定義、スキーマ変更、状態遷移}

### 10.3 インターフェース / API定義

- {エンドポイント、リクエスト/レスポンス、エラーケース}
