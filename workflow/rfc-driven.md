# RFC-driven Development Workflow

## 1. 目的
本ドキュメントは、コードの実装に先立ち「設計の合意」を形成することで、手戻りの最小化と技術的負債の抑制を図るための標準フローを定義する。

## 2. 開発ライフサイクル
開発は以下の4つのステートを経るものとする。

### Stage 1: Drafting (RFC作成)
- **概要**: 解決すべき課題と提案する設計をドキュメント化する。
- **成果物**: `docs/design/` 配下の Markdown ファイル。
- **DoD (完了定義)**: 
  - 背景、目的、具体的設計案、検証方法が記述されていること。
  - 実装に伴うトレードオフ（代替案とその比較）が示されていること。

### Stage 2: Reviewing (設計レビュー)
- **概要**: 作成された RFC を Pull Request にて公開し、フィードバックを受ける。
- **DoD (完了定義)**: 
  - レビュワーによる承認（Approve）が得られていること。
  - 指摘事項がすべて解決、または将来の課題として記録されていること。

### Stage 3: Implementing (実装)
- **概要**: 承認された RFC に基づき、実際のコードを変更する。
- **DoD (完了定義)**: 
  - RFC で定義した検証計画をパスしていること。
  - 変更内容が RFC の設計意図と整合していること。

### Stage 4: Closing (完了)
- **概要**: 実装が完了し、最終的な設計状態を RFC に反映させてマージする。

## 3. 運用ルール
- **No RFC, No Code**: 原則として、RFC による設計合意なしに `main` ブランチへ向けた実装を開始してはならない。
- **Living Document**: 設計は実装中に変化しうる。その場合、コードだけでなく RFC も最新の状態に更新し、差異を発生させないこと。
- **Traceability**: すべてのコード変更（PR）は、対応する RFC へのリンクを含まなければならない。